use std::io::Cursor;

use hex::decode;
use image::ImageEncoder;
use image::{codecs::png::PngEncoder, ColorType, ImageBuffer, ImageReader, Rgba};
use palette::{FromColor, Hsl, Srgb};
use secp256k1::rand::{self, distributions::Uniform, rngs::StdRng, Rng, SeedableRng};

pub fn labubu_maker(seed: u64) -> Vec<u8> {
    let genesis_labubu = "89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c00000f91494441547801edc003a0245996c6f1ff77ee8dc8cca7724b63ae6ddbb66ddbb66ddbb66d698c9e964aaf9e323322eef976b76a7aa6873b6bd5afda362fa288c03692b08d2432937f0d4948c236114166629b171100c1bf92240024619b7fad88004012998924fe1500a8bc08242189dffbbddf034012dbdbdb9452880800329317a6d64a6b8dc73ffef11c1d1dd1751d972e5d223389082471df7df771ead4295e08008217812400321300db48621c476cf3a268ad2189a3a323baae43129228a500609b1701009517421200bff44bbf44d77548222200387bf62cebf59a5ffdd55fc5365dd7d15a032033b99f242282aeeb98a689dddd5d3293d61a9b9b9b00d806e0077ff00779add77a2de6f3398f7ce423793e00a8bc1092b0cd388e0cc3c06c36e37e11c1d6d616e7cf9f07a0b50680249e9b6d7ef4477f94d61a00a5146aadd45ac94c7eeaa77e0a80b77bbbb7c3360099c9f30140e55f2089cc2422a8b52289711c89088661202288085e1049d8c6368bc5825a2b994944300c031141290580cc44122f040095174166228973e7ce514aa1b5c6831ef42024f1b4a73d8dccc4360092786e920068ad71ead429321380bbeeba8b711cb1cd344d4802c0362f0000c1bfc0365dd701309fcf01d8dada4212a5142282d96c862424619b07b20d806d5a6b4cd38424fabee781220249d846122f00009517c23692b00dc0300c4404ebf51a80d61ac330d05ae37e927820490048a294426b8daeeb58afd74cd384245a6b44040092782100085e084900b4d628a510110064265dd72189520a9989246c639be72722c84c363737b14ddff7cc66332282520a11816dfe050004ff02db48629a262282699ac84cc671243329a52009db48e2b9d9e67ea514d6eb3511c16ab562b55a919948629a26006cf3420010fc0b249199f47d4f44504a01a0eb3a4a29b4d698cfe7d8c6369278204900d8263329a5609b5a2b1141ad15db48c2369278210008fe05b69184240e0e0eb04d6b8d61189044ad95e572c90b621b4964260099496602506bc53692b0cd8b0080cabf401200474747440499c962b1a0ef7b6cf3e66ffee60048c236b629a5703f496426eff44eefc4344dcc6633fefaafff9a88601c4700d6eb357ddf534a2133792100a8bc10b69104404470cd35d7304d1311c1bdf7de4bd77548c236f7b3cdfd6c230980d61a00e33872f1e2456c73ecd8316c338e2399496b0d0049bc0000042f02db945258afd7d45a91444420094948e27e9278204948e27eb60198a60980beefc94c6c032009dbbc0000c8b6792e1101c08ffee88fb2b5b5c5f6f636b699a6895a2bb60168ad319bcd58afd7f47d4f66021011d8a6b5462905dbd45ac94c6c330c031b1b1b0cc3402985d61a11c13df7dcc36c3603e02ddff22d91446b8d0700207821b6b7b719c791520ab556363737018808004a296426b3d98cd61aad3524516b252228a5601b494cd344669299cc6633d6eb35a5144a2948a2d6cac6c6069949d775bc0000c8b679a68800e0a77ffaa7e9ba8eeded6d6aad4cd304c0f9f3e7e9fb1edb745dc77abda694826d363737e9ba8e711c8908006aad642692d8dfdf67180624318e231b1b1b8ce3484470ecd831005a6bf47d8f24ce9e3d8b6ddeeaadde0adbd80600207800db00f47d0fc06c362333e9ba0edb2c160b6c2389d61a110180242491994404a514003213dbb4d658afd70044047ddf639b88c03692a8b5524a611c47006aaddc4f12cf0440e5f918c7915a2babd50adb1c1c1c609beded6dfabe07a0eb3abaae63b95c329fcfb9e38e3b18c791aeeb18c7915a2b9909806d1ef18847308e23a5146c03300c03d334b1bbbb4b6612116c6e6e2289699a28a5609b88e09900089ee9ecd9b3dcaf94426b8d520ab659ad566426a5142401d0751d00a5145a6b642611014044d05a03c03699496b0d80ccc436994966524a61b55a9199f47d4f6b8d699a88084a2948223379260082675a2e9700d86618062202dbcc6633249199d45a01c84c6cb35aad28a5002009dbac562b6aad945218c791520a929044ad95711c9104806d5a6b945298cd668ce3886d24d15a639a266c0310114842129264dbfcfaafff3ae33892991c3f7e9cf57acd6ab502e0e4c993945298cd6664269228a5609bccc436ebf59a520ad3341111dcafd6ca344d9c387182e57289245a6bd45a91846df6f6f6e8ba8ec3c3430e0e0ea8b5b2b5b545298573e7ce514ae1cddeeccd00000800498ce38824220280c56201c0344dcc66334a29f47d4f44d0f73dad3524514aa1eb3a6c639bcc4412998924c671a494c2300cd82633e9ba8e699ac84cbaaea39402402985520aad355a6b945228a5f00000549ea994c2300c44045dd7318e23ad356aadcce7735a6b0cc380241ef398c7200980bffaabbfa2eb3a363636880866b3195dd7310c03b3d98c711c89086c536be5c55ffcc5b9dfdffffddf338e239b9b9b009c3f7f1e4948a2d6ca388ed8461200b69144f04cd33401609b611800e8ba0e49d806a09442290549dcafef7ba66902609a26006c534ae1e8e888520ad334d15ac336927820db4cd3846d6c338e23e33892990cc3806dee270980ca3345049218c791cca494c2344dd45ac94c3293fdfd7d006c2309db3ce6318f01e06ffee66f0028a570f1e2455a6bd45a99cd6648e2255ee22500c84c2401b0bfbf8f24e6f33999c96c366318066aadd45a910440ad15db48c23601609b520ad334514a012022a8b5d25a03a0d64ad775745d872424f1fc4404a514baae032033b1cdfd24012089520ab619c711dbacd76b002491999452a8b5328e2300b69144b58d248661a0944244504a212268ad91994404d334d15a6363638388203391c4fd4a29d8a694c27abda6eb3a3293699a782049642600b601e8fb9e520a7ddf631b49b4d628a5304d13ad35240120892a09808820220090c4300c48a294c2c58b1769ad71f2e44924619be7b65c2e0128a5f08c673c83cc242278d4a31ec5039552b00dc0e6e626ad352e5ebc88246cd35a232290c4388ed45aa9b5621b49d826006c339bcd383a3a223301908424ee576ba5eb3aa669e2f9b18d6da669621c476c03504a2122b8df344ddccf3692e8ba8e5a2bd334516ba594822424314d13b6910400400590c4388ef47d0f40ad95d61aad354a299c3a758af57acdc1c1019b9b9bfceddffe2d87878748e2c94f7e32d334319fcf8908fabee7655ee665b04d6b8d8d8d0d3293bffffbbf07e08ffff88f9104806d6cb3582ce8ba8e4b972ed15a639a26b6b6b60028a5609b670220782eb669ad611b4900acd76b00baae631c47002401b05aad9004c0344d6426b6918424a66902c036b68908004a29d84612118124baaea3eb3a6aadb4d6e8ba8e88c03600b601d0f9f3e76d9b6baeb986cc04e0677ff66719c7919b6eba098073e7ce1111dc78e38d48223379c9977c4900feeeeffe0e49ececec00d05a6318065a6b44048f7ef4a301f8fbbfff7b4a293ce6318fe17e8f7ffce319c7917beeb987d61a11c1cece0ef3f99cdb6ebb8d699a78877778070024919948a29e3c791200db4842125dd7d1f73dc330d0f73d99c9388e48024012f79344d775dc72cb2ddcef718f7b1c998924ee97993cb7cca494c2344d006426b6393a3a62737393611800b04d66020050792e99496b8d88a0ef7bc671a4eb3a242189711ca9b5f240ad359e9b6d5a6bdcaf944244f04099896d4a296426b5566c2389cca4b50680249e0900d936cf252200f8c55ffc45004e9e3cc9388eeceeee524ac1369989246eb9e516006aad0cc34029858820339184248661a0d64a4470ebadb7629b520aad354a296c6d6d319bcdb8efbefb88084a29bcd11bbd110099c90300507921a669a2b5c66ab5223329a59099945228a5b05aadc84cbaae639a2666b319d334314d13a5146cd35aa3d64a66328e23ad356aad4cd3846d002282699ab85f66f2020020dbe60588081ee8777ee777b85fdff7d8e6befbeea394422985ccc4367ddfb35eaf89086aad006426ad358e1f3f0e8024c671a494c26bbee66b723fdb482233793e00a8bc10b691c40349222258afd7d806401299492985d61ae338d2751d9258ad5694520068ad611b4900d45a91c473b3cd0b0040e5f928a5609b5ffcc55f04a0b54644f05aaff55adcef0ffff00fc94caebdf65a5a6b6426ad35e6f339cbe592aeeba8b5b2bdbd4d6b8d5a2babd58a884012a5145ef9955f1949fcc22ffc029258afd7d45ab14d442089d61a0f0040f0424404d334619b6118b00d80240024310c03b699cd66cc663332935a2b99c9388e004404b6d9d8d840129218c71100db8ce3886d228288a0d60a806d9e0b00b26d80beef99a60949fceccffe2c5dd7b1bdbdcdd1d111affffaaf8f247efbb77f9baeebb04d66d25a63369b01b05aad98cd666426b556d6eb35920028a500504a012022383a3a02a0eb3a5eedd55e0d4900fce11ffe217ddf73df7df7310c036ffdd66f8d6d6c03005079a6699a00c84c6aad4cd3846de6f339920098cd666426b629a5601b498ce3c8c6c60600a51400e6f339cf6d1c4724318e237ddf2309db48e27ead3556ab1592582c160048e29900a83c93246c2309db00bcfaabbf3a00bff00bbf40ad95e57249dff764261181246c1311bc2824919948421299496b8d9ff9999fa194c2b973e7788dd7780d6cf38bbff88bb4d6782e0004cf649bfb4dd344290500db4404d334b1b9b90940ad95d61a9298a6895a2b2f0a494404b6c94c6c536ba59482241ea894422905db3c0000c1f3516b659a26ee374d1300d334318e23ad356cd35a232268adf1a2188601dbb4d628a500609bd61a99896deed75a03401211c13301507926dbdcef4ddee44d00908424baaec336e338526b451292c84c5a6bd45a7951745d47449099642611c16ab5421211c1300cdcef4ddff44db95f6b8d67022078118ce388242282ccc436ad353293520aad355e1411c1344d9452c84c0066b319a5146cd3751dff02008267b28d6d6c631bdb00d8a6d64a6b8d520ab6e9fb9e520a7ddf639b17d5388e4cd344290549b4d6c84c5a6b48a294826d2202dbd8c636b67926002a2f846d24011011d84612e338629bcc2433e9ba8ed61a00aff66aafc603fdc99ffc09c330300c03a5146aad8ce3482985d96cc672b9a4d64a6b8dcc44122f0400c10b210980d61a99c96ab5222268ad2189d61a9298a60980699ab0cdfd6c330c03ad3536363628a5909948223359ad56cce7735a6bf47d4f6602609b170000d936ff828800e0777ee7778808002282d61a9989245efbb55f1bdbd8e6e77ffee789082282377ee3374612bff33bbf0380245a6b745d872424f1aaaffaaa0048a2b5c60b0140f0afd0751dad35a669a2b546442089beefc94c0024d1751d0092b85fad95aeeba8b502609b5a2be338723fdbfc0b00a8fc2beceeee524ae1e0e080beef29a5f0266ff22648c236cf8f6d002202809ff9999f212268ad319bcd782049fc0b00085e04b601188681d61af3f91cdb642692b0cd8b2a22b04dad95cc641c476c03609b7f0100b26dfe0592f897d8e68591c4bfc436ff0200fe11f19f0949994fa6f70000000049454e44ae426082000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

    // The error is likely due to the trailing zeros in the "normal" PNG hex string, which are not valid PNG data.
    // Let's trim the trailing zeros from the "normal" PNG string before decoding.
    
    let mut labubus_: Vec<&str> = vec![
        /*normal*/"89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c000000017352474200aece1ce900000044655849664d4d002a00000008000187690004000000010000001a000000000003a00100030000000100010000a0020004000000010000002da0030004000000010000003b00000000a908677200000a74494441546805add8c98b544b1305f052db7956d085a22b51410577e2bc101c5137e2ffe8c6010710178a20ba72441782a88838e23c0fefeb5f3ccf7dd76b7575095fc0adcc8c8ce1c4c9c85bd53de19f51e90d2913274eec319f30614233fefcf97348ef7fcdf8c65f3cfe7f01a1824cfcab8ca3c6129224aec55f7c004af8039c787f11a237328cb1c09e8b172f96b9f9ecd9b37b93264dea05c4788c8f8c8cf47efcf8d1bb73e74eefe3c78fbdc99327f7debc7953c0c510d3fe303214d30292004b8b7cfbf66de8a305489c0036f7289cfc4d8b0c643a60cf9c3953cc5887d9e7cf9ff7be7cf9d23b7bf66c25c45c984a71c0c4c7fef7efdf7baf5fbfaee2d9ce9c3993c95f01663f2e680c60f4ebd7afbda953a7f229017ed6ac59bd972f5fd63a8053e82fb31ac43872e448531476b58b4781478f1e2d3bfa30de2ebc1dcb7c206806400800a424d68ab05688d13396b007c4337dfaf40668db3f2d224fbfa2bbb1c705cd21c15ebc78513d88d5e5cb9757827bf7eed57e18ea97343a7e0b172e2c7b711f3f7e5c04f0d53ab14b2c36fd646c8a7e590ba01fc9b469d36ad41612600863dac6dad34d98b511e8809b32654ac5ca8738f1370e92814c4b944082a41d5c4002049d31d24d98b551916c9120460aa04b8bc53ef1fa8d03994e0041c3aa20da45e20049fb2832cc769301c5ce1b830da69d107d628fe5fb47acaea2bb160838ac486094dc65344a683f76fdfca3638b61713e7ffe5c4f0a16970c037c20d38200243066c20a3da681700a7a5db27ec0f9137b29d2dc9b483c63fc3296c3808f71412790e4efdfbfaf0480ea653a493f7dfa34668af8034c8c9977018f19a4b331f022b20d53be7e3123a1f72de601dab76f5f856467ed7102117a3e870f1faed6d2c7d7ae5dab585a8c6819f1f8a5a0f8f71b07820e4b1c015eb46851d3db4f9f3e6d2e23bb48779ea29d0e01f4d5ab5755dcdcb9736bccfd884d7c12b33b8edb1e1cc21e461ca9a08a30e649e06ec2ee7e8acac5c33076a3679f796276c709a306ffd1f46b1720e2f7822f123f439949943eb48f19c79de3cdd1f2676fdf919bf30b38f761c68c19752f7299f93c79f2a4f97db37ffffe2224eccb1719c834b08e4e6049f3ab2c45a5070117dc8329b66c02982eaf4ac053a87d4f7c14623fdfc001d91d7f633a608e1d3b568e400390a3f48b2e1730df6a01a6203a45264ed805eaddbb77cd1b870d80b1d5db44d1e2b3f7d3d7091d3870a046f3c86f4c678323c1482ab7e7ad6114548280b3f6b00dc3fcadd9b3d542c47e0a374f3c05224021c43a22765bfedb69693972f2ad2568decf984f4158f57847fb7279f4e851250cdb6159583156ac5851fb39197abded14f38781229c1890f4b1a56f4bb3721c11c6d88913f058b34ed5c091d886653a49f81380ed651df68d1efe898f1076008b917cecdad280ceb79a2418e064ae4572f439b224964c60c2863d1d3b7a2796c4f6e9e95238fb90238f3d3afb016f4de0a1fff5fc7b17cf9d3b574e00cd9b37af7a1000b260c1824a9e1ee7088c802940cfd285a5721cfd00946efefcf9d54a01446f2ec6dbb76fabd53e7cf850ad68cfab56bcfce1b177efde84ec15d39cc3808a884b4724045600c7673fc718f05a45f21441af98c4e5ebf4b2cf5e5c36e6f689d183e59c40f6cae0d74773116da62d0452044755bb68e6f60159bd7a758d625cbd7ab5127b85294881fcd9e6c8e901166bcd9a354dfe5bb76e559ebcffbd52c5f7b06db70b2731ec353dadf26c48482467c4988409ba08d6e39b913d5b3fb28cf48a4ed2f81ae9ec1b3d807a9c021c7491e46d98c606651c924cc502787c411081520cd6c9f5ebd76be4e707514e09db6cd7ae5d5bfbe224b978e64e929e2da0727a6267dece594c5304a4912882b1e4c41cf3613f016bb3f5c14f0c7604987e6cf167672f6d902f207bfceccb6b9f04f848262a6494a44680399be788d3bbf46de00160941c68366999ca3afa11400161d462fc8cc123375df2269771240bc03c844e11468e396eaf3e3a81bb92f73cfb070f1e34c5ae5cb9f23753fbf1770181133f71ade1b0c630a63d29c6d8b4877e7271b043387922698f2e73d917cc633fc76d0fc89061ddf60f10a722be3d239fe4a78b1d7f52173155399e528e3aaa3847e4bf428edc6f10ecdcb871a3e78b80dfddbb772b99cb049c18ebd7afaf44fcf373d3eb8d5cbe7cb9212385fa4e00dcbf7ef900eacb85b44fa614a31fcd2b2f0a8138b6abcb0511389722a7e05b3373c99c547ce9e9480086f580619376103facc3606e8f6f6218278cbed04775ffd4df7f698d13274e14b8a54b9796b1af52ce4b962c2980ecd6ad5b577b376fde2cdd9c39736a2d99fb60e4b36ad5aad2631ad0bc2229fd831d09fe6289bd384eede1c38755f0a14387ca5f71f21a475c2e02388547858e59722363c1ed918c99b35fb66c59edf9b87dfb769320ca1092b5914e21390d6b38dc2d6d283fa16bfb375f2eb53bfa613355030c2c5029c8da65690bfbae48d4d60387f9b604a43d7371435e70b06f9354eb51a33fde5f097efaf4e9cae13480f5635d022e820a168625c44cc0659f0dbd7d71efdfbf5ffeec146574e9bcbd9e3d7b5636743b77eeacdce274e577ca3abb8e4d60978db36019cda377126c25367aec2b8e3fc0fc149e359bf0a518eb483fa0d933fef6876d7bc33c8c477fe1c2854c9b6f2fec00988200d156de38fc01268000ecb73a71028ae0b775ebd6d2f9e06f6f10f0814c27401371742220304085a92401003060720f9c063db1d78ea920be5d49dcae3eebbea025e1989e960cd06ddbb6c5af77e9d2a56263f1e2c505264c7a5df94a071a287f0cf33757803880cab161c3869a9f3a75aa4644b0933b767cbbf2fb75eeec724cefb94c6120ec18a3d7cf1ee02536629c88c3d7b7231f4ff6e8cd03942d7f927cb5687d343dad0f0114d0970ba6b0e49db963c78ed29f3f7fbef4828559400916dba0b12616497b64044c5c22cfa64d9b1a5b27088bbb829083070f16f876014d7be4f686a930ecb8933ca004480b85352c9200e3d7158cc61e3073b1129fbd7640005dfe4e6defb36940b703a4aacd9b37b3e9e93947a657255318b6e2633e8cb0e76bcc1cc8e3c78f57b17e2e6cd9b2a50a719ffaf5b33c4db600a5c47218a3078a2e7f802a404089e9d3837c07097bb1c404dec8572e7b6da1f3b47165bf011d8551206022991b1d31c0821981188b91f867cca565df26c53a45c436315368f4c6a63dda15eddebdbb6c38785c16fb002b287a89041f96697114c9cf639efe35575464cf9e3d99fe414a5fa61beb5f935ca0240ccb12632cac74fdba6bfe4e8b0f5fe272a70d14358c34a001e93e02d06112b0047719cd8df68715c507b4d3121378a375e22bae1f96e469da238af6c851309240d692db93d083a1b0ed9ddb962b57aed4b13b7aa010c0df1ccbde482145ace46bc7e8ce1ba6bb1bd6091046f2351c6632b62f6a9b797360d9798f031a6046f1bccfede7552a6f3b8675579a6fc4ee467b8d65e2575ee646c90262fbf6edcd919e3c79b2ecd8ecdab5ab8acf2f4444f0733ae69e8d1b3756fcecd562c0c740a6bb7e6903cc4a0c94446d96ac73a1cc235a80de48b0995689cd780cc76e604fc72863fe72f1af845c46af47e0c64a187d4ec8b75f4e494fb7a55d645bdf9d0fc57412a73ff5215d5a23fbdde0fdd600b3c732ff5c6ab6c3c619aaa7876160bc84ff8f1821e17fa72c051d9daa725f0000000049454e44ae426082",
        /*sad*/"89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c000000017352474200aece1ce900000044655849664d4d002a00000008000187690004000000010000001a000000000003a00100030000000100010000a0020004000000010000002da0030004000000010000003b00000000a908677200000a86494441546805add8c98b54491006f06a6df75d410f8a9e44c5053c88e27e105c512fe2ffe8c50517100f8a200a8a2b2a08a222e28a8afb3ad3bf1cbf37d96faaabab6102b2223332962f2223dfabaa81bf86a8d3278d1b37ae437d6060a0e1bf7fffeed3fa1f35b6b1e78ffd18201427e3c6147148594094c06531860f40117b80e36f0c2e3a83fd28736c5cbc78b1a89bcf9831a3337efcf84e408c56f1c1c1c1ceaf5fbf3af7eeddeb7cfefcb93361c284cefbf7ef0b703ef8b4df0ff555690e5180a5457efcf8d1f7d102c44f009b1b12476369919e950ed83367ce94ca58a7b2af5ebdea7cfbf6ad73f6ecd91250e552a924074c6cecfffcf9b3f3eeddbb923cdd69d3a651191360faa382560115fdfefd7b67d2a4496c0a013f7dfaf4ce9b376fca3a8093e81fb5c2f83872e4489394ea6a174382478f1e2d7ae4a9789d78edcbbc27680a407000a420d692b096086e8c44f40131a64c99d200adedd322e2744bbaed7b54d00ce2ecf5ebd7a5075575c9922525c0c3870fcb7e2ad42d6864ece6cd9b57f4f97df6ec5929005bad13bdf8a2d38d462ed11f6d0ef4239a3c7972e1da42001552316d636db403668d031d7013274e2cbef2c14fecf15ed4b3d202c511276907171001418687da01b3c625495711f848026469b1e8c75f37deb3d271c069aaca8976113840d23e924c65dbc180a2e7894147a59d10797c8f64fb1f5f6d417bcd1170aa22002eb8cb880b683f7addec23a3abc2fc7cfdfab58c24cc2fea0778cf4a730210c72a93aa90ab34104e41af0bd60d387b642f499a7b12f187c72ebc18f4f81815741c09fef1e3c7120050bd4c26e8972f5f460c117b80119e791bf0884e5a1b3d2f22dd54caeb576504f4bc557980f6eddb575cd2b3369c40889ccde1c3874b6be9e31b376e145f5a0c6919fed825a1d877e33d41a74a0c019e3f7f7ed3db2f5ebc682e23bd507b9ea49d0e02f4eddbb725b959b366159efb119dd8c4679b8fda1e0c523d1571a49c4a02cf88e376c0f67e92cac55361d58d9c7ee6f1d9e603430aff96e9cf2e40c8f7052f125f43a909943eb4af328e3bc79ba3654fdfbe2337671770eec3d4a953cbbdc86566f3fcf9f3e6fbcdfefdfb4b41527df1423d2b0daca3e358d07c2b4b52e941c03937548a2e9d0026cba312f0246adf888d44ece70d1c906d3eacd20173ecd8b162083400394adfe87201f3560b30099149327e525da03e7cf8d03c71e800185dbd8d24cd3f7d5f7d9dd08103070a370f0dab743618221549e6f63c35704e0508386b836e2accde9a3e5d2d84ec2771f3f893a00248045987f8aee9df9d4aca9091b716a7793eabbc80ebd6ad6bb4af5ebd5a5e2e4f9f3e2d0153ed5499221f4b972e2dfb80ad5ab5aab1bf72e54af3c340124e0c48a79b5324afa901ed384294552799030fcca64d9ba2d2f0e8a6ca3604612f38c0f6ac91794debd7af2fcb53a74e95e463c707df39c1daa649216f3541f26dce5c8be8ab3d7bf6d476657eeddab5e2d8220025581f7502db27778ab76fdffe8fafbd7bf7963d31e902afdad64812e47fc63f77f1dcb973c5482566cf9e5d7a10005403f63663080c87f4713d4b26507d9c8092cd9933a7bcee0388dc7ce5ca9525868ff3e7cf9756b4e751cb5f7e78482a542acd5805f00474e99080a1fbf7ef977d7d9d63e458eb009e24f8914cfcd2717ad9a7cf6fbb55e8197c1b59277e78d3d3710c742e134359fbafc23c5f9256ac5851007172fdfaf5a2ef11c6563bb1a76bae18e400f3555fc23b77ee748c90cb2c51832e5b76d628f3a6a753511b0222c11990a1641e2764aa1edb70fa747dc9c2c9259da0ec4264f6710350c329e474a29bb84da5558330060926630e0c2f0894e0b8aaa39b376f16cece17a29c926af3bb7af5eab2cf4f82f367eefb38395d40c534a2675ec72c952608481c4982b2e0c85ce553fd382c9bd5073b3ee82160f80fc50ea7672f6d9017903d76f6c5b58f027c301319524a501c60c6e639e2f42e7900701800b8e040d349cbd04101649e64b4183b3c78c4264bdcc4c207b300cc406492c019e6b8e7ce9d5b64095694ff7ce4394ffff1e3c74db2cb962dabd59ae408bdfd80e35f2c7eade1b056619536920cdeb4877e72715407313242698f76e5b2cf99613fc76d4f122986756d1f204e857f7b389bc4278b1e7b542e62b2723c45386428e31c917f851cb9ef20aa73ebd6adcea74f9f8ae3070f1e94602e13707cac5dbbb6a95abe6ee6d176f9f2e5a61849d43b01707ffd8a09a8970b9200bd9a9a475e841418d6d9e582709c4b9153f0d6cc5c3027155b72324466a4ea014327edc07faa0e83b93d76f1810f0c7d471e92fd557effa5354e9c3851c02d5ab4a8287b95325eb8706101486fcd9a3565cff7088167ce9c59d682b90f389be5cb9717b94a039a4724a1979622f8c5127d7e9cda93274f4ac2870e1d2af662888b0fba5c08700243868e59709c32e7f65078e6f4172f5e5cf67cdcbd7bb70910610a92354e26919c86351cee9636141f91d5f6cdcba5ec0e7dd84cd600030b5412b276596aa2df26816a39702a5f5340da33e737c50b0efa7591ca7a486978970f49e3fcf4e9d3743a4e0358ffe20bc08453ce5261015526e0b24f87dc3ebf8f1e3d2af6f42485bb749e5e2f5fbe2c3a643b77ee2cb1f969d3f092b5761d1bc72e1b63cec2cd2377127405c60dfb92630f303b89674d27f5928c75a81bd0ece1c37ed8d61be6a978e4172e5cc8b4797ba90e804908106de589c31e600408c0beab23272009765bb76e2d321fecedf502deb3d271d0781c9a70080c50a9548200001830b9074e831cd9ab7d4a886d9be2b72dcfba2b684118a6a7050374dbb66db1eb5cba74a95463c18205054c2ae971e5950e34507e0cb33797003f808ab161c38632f7fb904c21e8891d3db66d1a7e9d5bbb0cd37b2e532a90eae091eb67037881711547fcb0f5766463648fdc3c40e9b247895716d547d3d3fa10400ebd5c544a953c3377ecd851e4e7877ec3917396ca028a54b106ad6a7ca1b4473860fc22fefcca8fae1384c55d519083070f967875024d7be4f6a652a9b0e38ec380e2202d644fa554110518bb36d18b3e60e67cc53f7deda00064f99d5aefd36940d70e92d5e6cd9be974f49c23d3ab82494cb56263de0fd1678b670ee4f1e3c74bb2be2e6cd9b2a524e23e75eb67719a68014aa8caa9183950645ead48021c0a4c9e1e2c9b3d3ee8f3c527f0385bb1ecd54466d4b8b2df808e00e7089850e6b8230698331c88912a12fbf05c5afa7551ac934474e33389468e37ed5167b47bf7eea2c3c0c8e5035842910bc479bf95e64792ec0cf3f4afb9a442f51f4449207b5d2b9dcdf05ca0044c950556b1b6d3d8b5397ba7c5862d72b9d30692ea871ad080b40707642a09589cbb8ce6b8fd7e49f201edb4f8041eb78e7fc975c392384d7b445073869ca138b216dc9e80860aa5daed7f56fd95ebd80da01480bdb92a7b22a5287c255e8da33d6f2adddeb08e835424afe15426bcbea875e5cd81a5e7390e6880e1fc799edbcfa354dcda87759b9a37627ba35eab32f22d2f735cb080d8be7d7b73a4274f9e2c7a7476edda5592cf37448560e774cc8d8d1b3716ffd92b8b1e1f3d2bddb64b1ba8acc040095457c93a17ca3ca405c871a49a6995e88c56e1e8f5ece92885e7978bbf1272193d1e811b2960e439216fbf9c929eaea94eb296b7e77d553a81d39ffa902cad91fdb6f36e6b80e9ab32fb5c6abafdfae9aba7fba9c06801ff0f1f29c2dfe758e13a9690515e0000000049454e44ae426082",
        /*angry*/"89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c000000017352474200aece1ce900000044655849664d4d002a00000008000187690004000000010000001a000000000003a00100030000000100010000a0020004000000010000002da0030004000000010000003b00000000a908677200000a90494441546805add9c78b54dd1605f052db1c51d081a22351318388980782111141fc1f9d1830a03850145174607620888a8811730edfebdff97add77fabeb2ba84b7e1d4493bacbdce3ef756758ffa67503a7dcae8d1a33bd4478d1ad5f4bf7fffeed3fa5f35b6b1e78ffd5f40284e46ff55c4416501490297c95f7c004ad8031c7f7fe1a233d08f32c7da850b178abaf1d4a9533b63c68ce904c4488c0f0c0c747efdfad5b977ef5ee7f3e7cf9db163c776debd7b5780f3c1a7fd7ea42fa63924019612f9f1e347df470b103f016cac499cfc4d89f4643a604f9d3a5598310fb32f5fbeec7cfbf6ad73e6cc99121073612ac901131bfb3f7ffeecbc7dfbb6244f77f2e4c954fe0a30fd11416300a3dfbf7fef8c1f3f9e4d11e0a74c99d279fdfa75990770121d522b1d1f870e1d6a92c2ae72d12478f8f0e1a2673d8cd789d7be8c7b82a6000407400a622e097389e8b53f097d40b489132736406bfb948838dd926efb1e113483387bf5ea55a941ac2e58b0a00478f0e041d90f43dd82668dddac59b38a3ebf4f9f3e2d04b0553ad18b2f3adde4cf140d6973a01ec98409134aaf2c04c010c6948db9d60e98b91ee8801b376e5cf1950f7e62afef253d9916288e384939b88004086bfa483b60e67a49d245021f49c05a4a2cfaf1d7adefc9741c701a5639512e020748ca479261b61d0c287a9e187430ed84acc7f79f6cffc7577ba13de70838ac08a017dc65d40b683f7addecb34617c3fc7cfdfab5b424cc2fe907784fa639018863cc8415eb9806c229a875c1ba01674fec2549634f22fef4b14b5f0c7a7c8c083a8e04fff8f1630900a85ab626e8972f5ffe1822f600137dc66dc07f74d2dae87911e98629af5fcc08e8798b7980f6ecd9535cd233d79c40c43a9b83070f96d252c7d7af5f2fbe94185132fcb14b42b1efd6f7041d9618023c7bf6eca6b69f3f7fde5c467a91f638493b1d02e89b376f4a72d3a74f2f7dee477462139fed7ec4f26010f630e2483995843e2d8edb01dbfb492a170fc3d8cd3afd8ce3b3dd8f1a54f82f4d43bb0011df17bc487c0da52650ead03e661c778e3747cb9ebe7d476ecc2ee0dc87499326957b91cbcce6d9b367cdf79bbd7bf71642c2be78919e4c03ebe8381634dfca92546a1070ce354cd1a513c0d6f2a8043c89dad7622311fb79030764bb1f56d30173e4c8916208a4bacb51aae35cc0bcd5028caeb5d4a7406117284f9e3c71e800b863c78e06cfc58b170b29fcd33f76ec583921989c94161906da068300c38800c0ac5bb72e369d93274f165693241b0d4b6118eb2907bd12a2637ffffefd8daf0c2448c413dfdc98b0ab6518e86c5066e4ad25112cd5b26bd7ae32bd73e74e79467bb93c79f2a44930f6c0123e162e5c58f657ae5c59d6ea8fd3a74f97278a849c18904e37a7187262d3d4b45f2211ca988a11f0d86dcbd2a54b3b6bd6ac29ba61998e20ec09c0f6ccdb80af5ebddab976ed5af33ac7303d80f9103f27589c0d7d34a0f3561344ed313256223114406b0b3074e84bd0290988f1045ebe7cf930b31b376e14fd909352e483af803727f0581f6aff3ef5ce9e3d5b826065c68c19a50601203367ce2cc139b6cf109865cb9695fd7c48282c656deddab51936bd37a2c4f801eafdfbf7e5de7cfaf4a994a23d8f5a31f2c363f7eedd8d7d619a3156f432225ed504086039707cf6738cb76fdf2e3af9502a494adf0d30865d6c7ee918f34df41a967302d94b0c7d73116da62cf2e862286b17cd388fac254b96940439c0daaa55ab0c8b60883ddd5a248894fa74ac212bcf7f3f92e968e2da4bb9f0957153d332cf46020ace41ea2a4c588b601d7bb5d0af19b22fe9046deb8a6d4f0354730a70588b246ec3740a3d06827226630eb40f1f3e14fb04d7639d609cb0f38508c84b972e959793712e223f09ce9fb193b4ae0c0115538b9e711db3306d2120c39024280b488c311ff6e3b06c561fecf8a04780e13f123b3d3d7b29032f20628f9d7d71ed93001fc840869412540f306363ac9b7bfd9a5b0f000e03402f38d074527674480019271925c64e1f3c62594bdcc4d20f64028846ac4942cf30c7edd1672dc18af2d0479ef3f41f3d7ad424bb68d1a25aad49cea20b081cfff16b0e87398631ad25197d531eeac9af13ec10465a24e5d1662efb9c69f673dcf6241132cc6bfb00712afcdbd3b3497c6bd1634fca454c568ea72c0e1aca3847e4af428edc7710ecdcbc79b3e345c0eefefdfb2598cb041c1fab57af2e81d8e7eb669ee9972f5f6ec848a2de0980fbd32f1b403d3a8904e8d5d23cf2b24881619d5d2e08c7b91439056fcd8c057352b1b56e8d58d3c27ac0d04939f01fd66130b6c72e3ef4a3061fe8836bff94df7f290ddf65819b376f5e51f62a653c77eedc0290de8a152bcadead5bb7cadab469d3ca5c30f741cf66f1e2c5651dd380e61169d11fd8c5f18b25fafc38b5c78f1f97840f1c3850ec2527ae7ec0e522805bd064e89805d753e6dc1e499f31fdf9f3e7973d1f77efde6d0264318464aeb726919c86391cee9632149f58abed9b974bd91dfcb099ac010616a82464eeb2d442bf2d02d5ebc061be9680b467cc6fc80b0efa3549653ea834bcca0757e33cdfa19d06b0fe8a2f00134e390bc3026226e0b24fc7ba7d7e1f3e7c58ece9494aefd2797abd78f1a2e858dbbe7d3b7cc3182e0b831fc329cbea50efd83876d980e02cbd71d69d045d81f59a7dc9b107989dc433a713be24631ea1db4bbafe092106613cf3f3e7cf67d8bcbdb003601202445979e2b007980002b0efeac4094882dde6cd9bcb9a0ff6f67a01efc9741c341e07071c020354984a1000000326f7c0695827f66a9f1262db96f86daf67de15b4200c53d38201ba65cb96d8956f70d89833674e0113263daebcd28106cadf4ed81b4b801f40c5f00bdff8c48913a547043db1a3c7b62dc3af736b97616acf650a0361479f75f5ac012fb01ee3841fb6de8e6cb4ec59370e50baec49e29549f5d1d4b43a0490432f174c61c93373dbb66d65fddcb973659db3300b28c1620d1a6b7c9194477ac0f825e26cd8b0a1d1f51d1c16770521fbf6ed2be0eb049af2c8ed0d5361d8712778407190120a6b582401c6ae2d188d3e60c67cc53f7de580006bf99d5aefd36940d70e92d5c68d1be9949a73646a553089612b36c6fd087db6fa8c813c7af46849d6d7854d9b369544f257ac6e7e9b68014a09cb61cc3a50d6f203540282096c3d35d82d40bd469f2f3e81d7b315cb5e2dd6b41a57f61bd059d073044c2463bd230698333d10fa7e2497967e4d8a7992889ff84ca259d737e55167b473e7cea2c3407359ec032ca1ac0bc479bf4cf32349769a71ead7585291fcbdd03c0964af2bd3d94c9f0b94806159608cb59dc6aeddb3775a6cd812973b6520a97ea4010d48bb71600d9380c5b9cb68acb7dfaf483ea09d169fc0ebcde35f72ddb0244e531e59a87b869c91383217dc9e801a86c2b6676e2d57ae5c29c7eee88142007b632c7b228514be12aff6d11e374cb737cce3208ce4351c66d2d717b566de18587a9ee38006989e3fcf73fb79948a5bfb306f4bf3466c6fd4732c13dff232d60b16105bb76e6d8ef4f8f1e3458f8e7f51483edf108dd9391d636dfdfaf5c57ff6caa4c7474fa6db762903cc0a0c9440354be6b950c61125605d4fb0995289ce480c47af674d47297d7eb9f853422ea3c723707f0a98f59c90b75f4e494dd7522759afb7c77d319dc0a94f75682da591fdb6f36e7380e963997d2e35dd7efdf455d3fd303052c0ff878f90f01f48a7cd66847c60d60000000049454e44ae426082",
        /*sleepy*/"89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c000000017352474200aece1ce900000044655849664d4d002a00000008000187690004000000010000001a000000000003a00100030000000100010000a0020004000000010000002da0030004000000010000003b00000000a908677200000a35494441546805add9c98b544b1305f06a6de7110505155d090aee1414e785e088ba11ff47370e3880b8500441501015dd89888823cef3f05effc23ef75dafd5d5d57c5fc0adcc8c8ce1c4c9c85bd53af2cf98f4869469d3a6f5988f8c8c34e3af5fbf86f4fe6dc637fee2f19f02840a326d4a19c78c2524495c8b297c004af8039c785308d11b1dc65860cfd5ab57cbdc7cc18205bde9d3a7f7026232c64747477b3f7ffeecddbf7fbff7e9d3a7de8c19337a6fdfbe2de06288697f18198a69014980a545be7fff3ef4d102244e009b7b144ea6d22203990ed80b172e1433d661f6c58b17bdaf5fbff62e5ebc58093117a6521c30f1b1ffe3c78fde9b376faa78b6f3e6cd633225c0ec27058d018c7efbf6ad376bd62c3e25c0cf9f3fbff7ead5ab5a07700a1d37ab418c13274e34456157bb781478f2e4c9b2a30fe3edc2dbb1cc078266008400404a62ad086b85183d13097b403c73e6cc6980b6fdd322f2f42bba1b7b52d01c12ece5cb97d583585db3664d2578f0e041ed87a17e49a3e3b774e9d2b217f7c9932745005fad13bbc462d34f26a668dc5a00fd4866cf9e5da3b690004318d336d69e6ec2ac8d4007dccc99332b563ec489bf71900c645aa2041224ede0021220e88c916ec2ac8d8a648b043152005d5a2cf689d76f1cc87402081a5605d12e120748da479161b69b0c2876de186c30ed84e8137b22dfbf627515ddb540c0614502a3e42ea35142fbb1ebe71f1d5b0c8bf3e5cb977a52b0b86418e0039916042081311356e8310d8453d0eb92f503ce9fd84b91e6de44e219e397b11c067c4c0a3a8124fff0e1432500542fd349faf9f3e70953c41f6062ccbc0b78c2209d8d8117916d98f2f58b1909bd6f310fd0a143872a243b6b8f1388d0f3397efc78b5963ebe75eb56c5d26244cb88c72f05c5bfdf38107458e208f0b265cb9ade7ef6ec597319d945baf314ed7408a0af5fbfaee2162d5a5463ee476ce29398dd71d2f6e010f630e248055584314f02771376f753542e1e86b11b3dfbcc13b33b8e8c19fc47d3f82e40c4ef055f247e863293287d681f338e3bc79ba3e5cfdebe2337e71770eec3dcb973eb5ee432f379faf469f3fbe6f0e1c34548d8972f329069601d9dc092e657598a4a0f022eb807536cd904305d5e9580a750fb9ef828c47ebe8103b23bfec174c09c3a75aa1c81062047e9175d2e60bed5024c41748a4c9cb00bd4fbf7ef9b370e1b0063abb789a2c567efa7af133a72e4488de6913f98ce06478291546ecf5bc328a8040167ed611b86f95bb367ab8588fd146e9e780a448042887544ecb6fcb7d3d272e4e45b4bd0bc9f319f82b0eaf18ef6e5f2f8f1e34a18b6c3b2b062ac5dbbb6f67332f47adb29e60f0345383120e9634bdf9666e538228cb11327e0b1669daa8123b10dcb7492f02700dbcb3aec1b3dfc131f21ec001623f9d8b5a5019d6f354930c0c95c8be4e8736449cc2760d8b007809d844eccb862c58a8a414f97c2d9f367238f3d3afb016f4de0a11f7f7edfc54b972e9513408b172fae1e04802c59b2a4096c3f17b336c73f923c2c654fb27ea2a50000eaddbb77d56a1f3f7eac56549c57ad62f287c7c183079b30159173184812978e00810501d283f1ce1f056ced03a028f18c89659d78f1418893d2667c89d183809090bde4343617d166da229789a3aa25c24257d20a692de030c49f6f5bd804705b8facbcffbd52c5f0a495d22e7c326f40e7c86d00cf5172eb00c6563739e00163ce5742621d898db579f68cec9126171c4e296d18a0fc60220de834baca39082240006cdab4a91c067ddcbd7bb7b6f913e0366cd850f3411f376edc2840da3045cbdb801c9b07bcb17ada24208d44111cbbc73c28f9ffb20743be80800d7130209204f868262a0418d88c0087b5dbb76f579bf8fa4d6102e598b194393dc174d8ffadf9fdc9aedd2e01986f4aa0e596c7699b8775e3b42c02d6da93bee68801df5a7a3cedd206611e96ccefddbb6768c49d003445b57b9a91dfd72e210243140c18960f21f688b1690f1bfe3a09b3015f96631f01abf20008636dd6d84b76e7ce9db816636cda60e32346c8c81d4254f2d3a51b12b02e62aacaef0a00559c23f2af42981420fd258002f9f8720808facd9b371b1a6983a50ce3e6fc8104dc3ffdca298f5727b117964b31f6f1d7d715038eedea72f402b7454b014cf82828eda4bd0609a200368a63143fac8b676e2fa0338e8cf5d2d8fc9ffafb2fad71e6cc9902b06ad5aacaebab94f3ca952b2bb822366edc587bda40c2850b17d65a32808d7cd6ad5b57fa9b376fd66fe8f5ebd7d7da877f6057a8bf58622f8e9379f4e851317eecd8b1b297033ee3a8df1504700a8f0ab120b991b1e0f6085d24f6ab57af8eaa2e6212442926606d61e364b403b186c3ddf22d99d3a2b31769be5ca2b099aa810356c214649d4b199f2e187a89da7ae030df9680b4672e6ec80b0ef6212bbe7ffcb91565829f3f7fbe544e0358af3d0952b960615842cc049ca42994debeb80f1f3e2c7f768a32ba74de5ecf9f3f2f1bbabd7bf7566e71baf217d36d03c726b0dbce59b08ce6d13b09b6121b3df6c336c0fc142e9e351bfb4431d6917e40b367eccb740cc278d657ae5cc9b4fa5a52ec009882e8b495cbca1f400208c07eab13a7a0087e3b77ee2c9d0ffef606011fc874023411c726020203947d92240000064cee81d3a027f6da3115c4b72b89dbd567dd17b4241cd3d39201ba6bd7aef8f5ae5dbb566c2c5fbebcc08449afabfcb807ca1fc3fccd15200ea0726cd9b2a5e6e7ce9dab1111ece48e1ddfaefc799d3bbb1cd37b2e5318083bc6e8f5b30778898d1827e2f0f5638b8f277bf4e601ca963f49be5ab43e9a9ed687000ae8cbc5f162c93b73cf9e3da5bf7cf972e9050bb380122cb641634d2c92f6c80898b8449e6ddbb635b64e1016770521478f1e2df0ed029af6c8ed0d5361d8712779400990160a6b582401c6af2b188d3d60e662253e7bed8000bafc5dd9de67d3806e074855dbb76f67d3d3738e4caf4aa6306cc5c77c1861cfd7983990a74f9fae62fd5cd8b1634715e23ef5eb67799a6c014a89e530460f145dfe0055808012d3a707f90e12f6628909bc91af5cf6da42e769e3ca7e033a0aa340c04432373a6280053302311123f1cf984bcbbe4d8a758a886d62a6d0e88d4d7bb42bdabf7f7fd970f0b82cf6015650f412093e2cd3e228929fc73cfd6baea8c881030732fd8b94be4c37d6e3935ca0240ccb12632cac74fdba6bfe4e8b0f5fe272a70d14358c34a001e93e02d06112b0047719cd8df68715c507b4d3121378a375e22bae1f96e469da238af6c851309240d692db93d083a1b0ed9ddb96ebd7afd7b13b7aa010c0df1ccbde482145ace46bc7e8ce1ba6bb1bd6091046f2351c6632b62f6a9b797360d9e59f1e02cc289ef7b9fdbc4ae56dc7b0ee4af38dd8dd68afb14cfccacbdc285940ecdebdbb39d2b367cf961d9b7dfbf655f1f98588087e4ec7dcb375ebd68a9fbd5a0cf818c874d72f6d8059898192a8cd92752e9479440bd01b0936d32ab1998ce1d80dece91865cc5f2efe3b2397d1eb11b88912469f13f2ed9753d2d36d6917d9d677e743319dc4e94f7d4897d6c87e3778bf35c0ecb1cc3f979aedb07186eae96118982ce1ff234648f817f99a9dc72f4229f90000000049454e44ae426082",
        /*h0rny*/"89504e470d0a1a0a0000000d494844520000002d0000003b0806000000ef95031c000000017352474200aece1ce900000044655849664d4d002a00000008000187690004000000010000001a000000000003a00100030000000100010000a0020004000000010000002da0030004000000010000003b00000000a908677200000a78494441546805add8c98b154b1305f0dbdaceb3822e145d890a2ab8529c178238a06ec4ffd18d03a8202e144174e5882e04511171c4791ede777ff13c6559eff6b51bbe80bc991919c389939955d53df24f5f7ae394499326f5988f8c8c34fdcf9f3fc7e9fdaf19dff88bc77f02102ac8a40965ec1b4b4892b82613f80194f00738f12610a2373a1e6381b58b172f96b9f19c39737a93274fee05c4df181f1d1dedfdf8f1a377e7ce9ddec78f1f7b53a64ce9bd79f3a6808b21a6f5f1c8b898169004588ec8b76fdfc6bdb5008913c0c69ac2c9448ec850a603f6cc9933c58c79987dfefc79efcb972fbdb367cf5642cc85a914074c7cac7ffffebdf7faf5eb2a9eedac59b3984c0830fbbf82c60046bf7efdda9b366d1a9f12e067cf9edd7bf9f265cd033885fe32ab4e8ca3478f364561d771d11478ecd8b1b2a30fe3edc2dbb18c878266008400404a62ae087385e8b5b1843d20da8c19331aa06dff1c11790615dd8dfd57d01c12ecc58b177506b1ba62c58a4a70efdebd5a0f43839246c76fd1a245652feee3c78f8b00be8e4eec128bcd20199ba25fd602388f64faf4e9d53b16126008638e8db9d64d98b91ee8809b3a756ac5ca8f38f1d70f93a14c4b944082e438b88004083a7da49b3073bd22d922418c1440972316fbc41bd40f653a01040dab82382e1207488e8f22c36c371950ec3c31d860da0ed127f658beff89d55574e70201871509f492bb8c7a09adc76e907f746c312ccee7cf9faba56071c978800f655a108004c64c58a1c7341076c159976c1070fec45a8a34f624124f1fbff4e530e4e7afa01348f2f7efdf5702409d653a493f7dfa34668af8034cf41977018f19a4b330f422b20d535ebf9891d0f316f300eddfbfbf42b233d7ec40849ecf912347ea6839c7d7ae5dab588e187164c4e39782e23fa81f0a3a2c710478f1e2c5cdd97efaf4697319d945bae3146d7708a0af5ebdaae2e6cd9b577dee476ce29398ddfeafc78343d8c3882d155411fab404ee26ecaea7a85c3c0c63377af6192766b71fe91bfca6e9d72a40c4f7821789cf506612e51c5ac78cedcef6666bf9b3b76ecb8df9059cfb3073e6ccba17b9cc7c9e3c79d27cdf1c3870a00809fbf24586320dacad1358d27c95a5a89c41c005d730c5964d00d3e55109780ab5aec54721d6f3060ec86eff07d30173fcf8f172041a806ca52fba5cc0bcd5024c41748a4c9cb00bd4bb77ef9a270e1b0063eb6c13458bcfdea7af1d3a78f060f5c6913f98ce02478291546ecd53432fa8040167aeb10dc3fccdd9b3758488f5146e9c780a448042887944ecb6fc5e69693972f2d61234cf67cca720ac6a9ed15e2e8f1e3daa84613b2c0b2bc6ca952b6b3d3b43ef6cdbc5fc61a0083b06247d6ce9dbd2cc6c47843176e2043cd6cc53357024b661994e12fe04606b99877dbdc63ff111c20e6031928f5d5b1ad079ab4982014ec68e48b63e5b96c492094cd8b0a763476fc792d83a3d5d0a671f72e4b146673de0cd093cf4bfdabf77f1dcb973e504d0fcf9f3eb0c0240162e5c58c973c6390223600a7066e9c25239f67f00a55bb060411da500a23716e3eddbb775d43e7cf85047d19a47ad78f9c363dfbe7d09d92ba63987011511978e4808ac00b6cf7ab631e01d15c95304bd621297afddcb3a7b71d9185b277a0dcbd981ac95c1af9fe6225accb11048111c55eda2195b0764cd9a35d58b71f5ead54aec11a62005f2679b2da70758acb56bd736f96fddba5579f2fcf748155f63db3e2e9cc4b0d69c6995674142223923c6244cd045b01edff4ecd9fac8d2d32b3a49e3aba7b3aed700d5ec021c7491e46d98c606651c924cc502685e1044a014837572fdfaf5eaf9f920ca2e619bedba75eb6a5d9c2417cfd84ed2b305544e2d76c6ed9cc5344540ea8922184b4e8c311ff613b0165b3ffcc460478019c4167f76d6720cf202b2c6cfbabcd649808f66a0424649aa0798b371b6386797be0d3c00f49203cd2647a6b2f67f022820f48e183f7df0c84d97bcc9a51fcd04308dd02942cf31dbedd147277057f29c67ffe0c183a6d855ab56fd616a3dfe2e2070e227ae391ce618c6b49662f4cdf1709e5c1cec104e5a24c7a3cb5cd605d3ac67bbad011932ccdbfe016257c4b7a6e793fc74b1e34fea22a62adb53cabea38ab345fe2b64cb7d8360e7c68d1b3d2f027e77efdead642e1370626cd8b0a112f1cfe7a6c71bb97cf97243460af54e00dcbf7ef900eae542da3b538afe4ff3c88b42208eedea724104cea5c82e786b662c999d8a2f3d1d09c0b01e306c721cc40feb30185be39b18fa91fe03bdaffba7fefecbd13879f264815bb66c59197b95725eba74690164b77efdfa5abb79f366e9e6ce9d5b73c9dc073d9fd5ab57971ed380e61149e91fec48f0174becc5b16b0f1f3eac820f1f3e5cfe8a93573fea7211c0293415da66c9f58c05b746d267cc7ef9f2e5b5e6e7f6eddb4d82284348e67a3a856437cce170b71c43f9095ddbbf79b9d46affc762aa061858a05290b9cbd216f65d91a8ad070ef36d09486bc6e286bce060df26a9e67da3ff3cbf12fcf4e9d395c36e00eb635d022e820a168625c44cc0659d0dbd7571efdfbf5ffeec14a577e93cbd9e3d7b563674bb77efaedce274e54fca3aabb64d60978db360e98da3b7136c25d66bd615c71f607e0acf9c4df8528c796410d0ace9fff8c3b6bd601cc6a3bf70e14286cddb0b3b00a620401c2b4f1cfe00134000f6ad4eec8022f86ddfbebd747ef85b1b067c28d309d044ec0f040406a83095240000064cee81dda027d6da3115c4b72b89dbd5673e10b4241c73a6250374c78e1df1eb5dba74a9d858b264498109931e575ee94003e58f61fec60a10075039366dda54e353a74e558f087672c78e6f57febcce9d558e397b2e5318083bfae89d670d7889f51827e2f0f576e4a3658dde3840d9f227c95793d64f73a69d430005f472c114963c3377edda55faf3e7cf975eb0300b28c162408b11c1548e477ac0c425f26cd9b2a5e29bdb4158dc15841c3a74a8c0b70b688e476e6f980ac3b63b20024a801ca1b026117d6cc3162091908259f66cdb3eec1489006bf93b353113a701dd0e90aab66edd5a76ce1c10ceaa640ac3567c8c23ec366edc58d32b57ae945f0861cf579f3190274e9c28127c2e6cdbb6ad0a719f069d67819b6c014a2949b6921e28bafc010a9880120710bfb1d8b546d88b2526f07a3e72596b0b5d76b3ad376e40b717046a83c9586f6b019650df663976ed58ed319ff8b549112745c49e8ea4d0e8f5cdf1102cb267cf9e1a72d05c16eb002b287a89040f80f8b7fb2e016cf9690acef93576f1227bf7eecdb0723493fe6020d36d036360537118093bc30063becd3e60e6012eb6cb6d8e14e48c471ad09cba4d003a6c8551739751a23c31c64ac42f62acf88046420ad79b07bce2066149ac067414ed9ea3602481cc25c73800faaec4873e47cb9f6721203b9747a882c4d1dabeddb8990f059d006124afe130933ec1ccf3b8e36bec9cd27b1be6585803503cef01eb79948aa5b861d2bc1187196199f8cacb582f59d8d9b97367b3a5dd5840e60bd1989f1d30d6366fde5c2e59ebfa77e7bf0f5d7765c05ca27c6b602d47262c49da65898e38021903cd4e3c6c47babed177fb0981ce5f2efe9590cbe8f138086c12054876c8db2fbbe44cb72545b57583c643cf741c9238e7d339a4cbd1c87aec87f5d99d5c3e9732fee987f95b1bd7991e0f037f4bf8ff889162fe078af90f37d8ac93880000000049454e44ae426082",
    ];

    // Remove trailing zeros from the "normal" PNG string if present
    if let Some(normal) = labubus_.get_mut(0) {
        let trimmed = normal.trim_end_matches('0');
        *normal = trimmed;
    }

    // Choose a random base labubu (e.g., sad) based on a random number
    let mut base_rng = StdRng::seed_from_u64(seed);
    let base_idx = base_rng.gen_range(0..labubus_.len());
    let png_bytes = decode(labubus_[base_idx].trim()).expect("hex decode failed");

    let rng_seed: Option<u64> = Some(seed);

    let img = ImageReader::new(Cursor::new(png_bytes))
        .with_guessed_format()
        .expect("cursor I/O failed")
        .decode()
        .expect("PNG decode failed")
        .to_rgba8();

    let mut rng: StdRng = rng_seed
        .map(StdRng::seed_from_u64)
        .unwrap_or_else(|| StdRng::from_seed(rand::random()));
    let new_hue: f32 = rng.sample(Uniform::new(0.0, 360.0));

    let (out_w, out_h) = img.dimensions();
    let mut out: ImageBuffer<Rgba<u8>, Vec<u8>> = ImageBuffer::new(out_w, out_h);
    for y in 0..out_h {
        for x in 0..out_w {
            let p = img.get_pixel(x, y);
            let a = p[3];
            if a == 0 {
                out.put_pixel(x, y, Rgba([0, 0, 0, 0]));
                continue;
            }
            let rgb = Srgb::new(
                p[0] as f32 / 255.0,
                p[1] as f32 / 255.0,
                p[2] as f32 / 255.0,
            );
            let hsl: Hsl = Hsl::from_color(rgb);
            let min_sat = 0.6;
            let sat = if hsl.saturation < 0.05 {
                min_sat
            } else {
                hsl.saturation
            };
            let recol_f32 = Srgb::from_color(Hsl::new(
                palette::RgbHue::from_degrees(new_hue),
                sat,
                hsl.lightness,
            ));
            let mut recol_u8 = recol_f32.into_format::<u8>();
            // Preserve white teeth
            if p[0] > 240 && p[1] > 240 && p[2] > 240 {
                recol_u8.red = 255;
                recol_u8.green = 255;
                recol_u8.blue = 255;
            }

            out.put_pixel(x, y, Rgba([recol_u8.red, recol_u8.green, recol_u8.blue, a]));
        }
    }

    let mut payload_bytes = Vec::new();
    let raw = out.as_raw();
    let (out_w, out_h) = out.dimensions();

    PngEncoder::new(&mut payload_bytes)
        .write_image(raw, out_w, out_h, ColorType::Rgba8.into())
        .expect("PNG encode failed");

    payload_bytes
}
